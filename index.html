<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy Markdown ÁºñËæëÂô®</title>
    <link rel="stylesheet" href="node_modules/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
</head>
<body>
    <div class="container">
        <!-- Ê†áÈ¢òÊ†è -->
        <div class="titlebar">
            <div class="titlebar-drag"></div>
            <div class="titlebar-title">
                <span id="fileName">Êú™ÂëΩÂêç.md</span>
                <span id="fileModified" class="modified-indicator"></span>
            </div>
            <div class="titlebar-actions">
                <!-- ÁºñËæëÊ®°ÂºèÂàáÊç¢ÔºöÊâÄËßÅÂç≥ÊâÄÂæó / Ê∫êÁ†Å -->
                <div class="mode-switch">
                    <button id="wysiwygModeBtn" class="mode-btn active" data-tooltip="ÊâÄËßÅÂç≥ÊâÄÂæóÊ®°Âºè">
                        <svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/></svg>
                    </button>
                    <button id="sourceModeBtn" class="mode-btn" data-tooltip="Ê∫êÁ†ÅÊ®°Âºè">
                        <svg viewBox="0 0 24 24" width="16" height="16"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" fill="currentColor"/></svg>
                    </button>
                </div>
                <div class="titlebar-divider"></div>
                <button id="toggleBtn" class="titlebar-btn" data-tooltip="ÂΩìÂâçÔºöÁºñËæë+È¢ÑËßà (Cmd+E)">
                    <svg viewBox="0 0 24 24" width="16" height="16"><rect x="2" y="3" width="8" height="18" rx="1" fill="currentColor"/><rect x="14" y="3" width="8" height="18" rx="1" fill="currentColor" opacity="0.4"/></svg>
                </button>
            </div>
        </div>

        <!-- Ê†ºÂºèÂ∑•ÂÖ∑Ê†è -->
        <div class="format-toolbar">
            <!-- Ê†áÈ¢ò‰∏ãÊãâËèúÂçï -->
            <div class="dropdown">
                <button class="format-btn dropdown-toggle" id="headingBtn" data-tooltip="Ê†áÈ¢ò">
                    <span>H</span>
                    <small>‚ñº</small>
                </button>
                <div class="dropdown-menu" id="headingMenu">
                    <button data-format="h1">‰∏ÄÁ∫ßÊ†áÈ¢ò</button>
                    <button data-format="h2">‰∫åÁ∫ßÊ†áÈ¢ò</button>
                    <button data-format="h3">‰∏âÁ∫ßÊ†áÈ¢ò</button>
                    <button data-format="h4">ÂõõÁ∫ßÊ†áÈ¢ò</button>
                    <button data-format="h5">‰∫îÁ∫ßÊ†áÈ¢ò</button>
                    <button data-format="h6">ÂÖ≠Á∫ßÊ†áÈ¢ò</button>
                </div>
            </div>
            <button class="format-btn" data-format="paragraph" data-tooltip="Ê≠£Êñá">
                <span style="font-size: 12px;">P</span>
            </button>
            
            <div class="format-divider"></div>
            
            <!-- ÊñáÂ≠óÊ†ºÂºè -->
            <button class="format-btn" data-format="bold" data-tooltip="Âä†Á≤ó (Cmd+B)">
                <strong>B</strong>
            </button>
            <button class="format-btn" data-format="italic" data-tooltip="Êñú‰Ωì (Cmd+I)">
                <em>I</em>
            </button>
            <button class="format-btn" data-format="strikethrough" data-tooltip="Âà†Èô§Á∫ø">
                <s>S</s>
            </button>
            <button class="format-btn" data-format="code" data-tooltip="Ë°åÂÜÖ‰ª£Á†Å">
                <code>&lt;/&gt;</code>
            </button>
            
            <div class="format-divider"></div>
            
            <!-- ÂàóË°® -->
            <button class="format-btn" data-format="ul" data-tooltip="Êó†Â∫èÂàóË°®">
                <span>‚â°</span>
            </button>
            <button class="format-btn" data-format="ol" data-tooltip="ÊúâÂ∫èÂàóË°®">
                <span>1.</span>
            </button>
            <button class="format-btn" data-format="task" data-tooltip="‰ªªÂä°ÂàóË°®">
                <span>‚òë</span>
            </button>
            
            <div class="format-divider"></div>
            
            <!-- ÂÖ∂‰ªñÊ†ºÂºè -->
            <button class="format-btn" data-format="quote" data-tooltip="ÂºïÁî®">
                <span>‚ùù</span>
            </button>
            <button class="format-btn" data-format="link" data-tooltip="ÈìæÊé•">
                <span>üîó</span>
            </button>
            <button class="format-btn" data-format="image" data-tooltip="ÂõæÁâá">
                <span>üñºÔ∏è</span>
            </button>
            <button class="format-btn" data-format="codeblock" data-tooltip="‰ª£Á†ÅÂùó">
                <span>{ }</span>
            </button>
            <button class="format-btn" data-format="table" data-tooltip="Ë°®Ê†º">
                <svg viewBox="0 0 16 16" width="14" height="14" fill="none" stroke="currentColor" stroke-width="1.2">
                    <rect x="1" y="2" width="14" height="12" rx="1"/>
                    <line x1="1" y1="6" x2="15" y2="6"/>
                    <line x1="1" y1="10" x2="15" y2="10"/>
                    <line x1="6" y1="2" x2="6" y2="14"/>
                    <line x1="11" y1="2" x2="11" y2="14"/>
                </svg>
            </button>
            <button class="format-btn" data-format="hr" data-tooltip="ÂàÜÂâ≤Á∫ø">
                <span>‚Äï</span>
            </button>
        </div>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
        <div class="main-content">
            <!-- ÁºñËæëÂô® -->
            <div class="editor-pane" id="editorPane">
                <div id="editor"></div>
            </div>

            <!-- ÂèØÊãñÊãΩÂàÜÂâ≤Á∫ø -->
            <div class="resizer" id="resizer"></div>

            <!-- È¢ÑËßàÂå∫ -->
            <div class="preview-pane" id="previewPane">
                <div id="preview">
                    <div class="preview-paper markdown-body" id="previewContent"></div>
                </div>
            </div>
        </div>

        <!-- Áä∂ÊÄÅÊ†è -->
        <div class="statusbar">
            <div class="statusbar-left">
                <span id="lineCount">Ë°å: 1</span>
                <span id="wordCount">Â≠óÊï∞: 0</span>
                <span id="charCount">Â≠óÁ¨¶: 0</span>
            </div>
            <div class="statusbar-right">
                <span id="status">Â∞±Áª™</span>
            </div>
        </div>
    </div>

    <!-- ÊâìÂç∞‰∏ìÁî®ÁöÑÈöêËóèÂå∫Âüü -->
    <div id="printArea" style="display: none;"></div>

    <!-- ËÆæÁΩÆÂºπÁ™ó -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ËÆæÁΩÆ</h3>
                <button class="modal-close" id="closeSettings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <h4>üñºÔ∏è ÂõæÁâáÂ≠òÂÇ®</h4>
                    <div class="setting-item">
                        <label>Á≤òË¥¥ÂõæÁâáÊó∂Ôºö</label>
                        <select id="imageStorageType">
                            <option value="local">‰øùÂ≠òÂà∞Êú¨Âú∞ (image Êñá‰ª∂Â§π)</option>
                            <option value="imgbed">‰∏ä‰º†Âà∞ÂõæÂ∫ä</option>
                        </select>
                    </div>
                </div>
                <div class="setting-group" id="imgbedSettings" style="display: none;">
                    <h4>üåê ÂõæÂ∫äÈÖçÁΩÆ</h4>
                    <div class="setting-item">
                        <label>ÂõæÂ∫äÁ±ªÂûãÔºö</label>
                        <select id="imgbedType">
                            <option value="smms">SM.MS</option>
                            <option value="imgur">Imgur</option>
                            <option value="custom">Ëá™ÂÆö‰πâ</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>API TokenÔºö</label>
                        <input type="password" id="imgbedToken" placeholder="ËæìÂÖ•‰Ω†ÁöÑ API Token">
                    </div>
                    <div class="setting-item" id="customUrlSetting" style="display: none;">
                        <label>Ëá™ÂÆö‰πâ‰∏ä‰º† URLÔºö</label>
                        <input type="text" id="imgbedCustomUrl" placeholder="https://your-imgbed.com/upload">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveSettings" class="btn-primary">‰øùÂ≠òËÆæÁΩÆ</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/turndown@7.1.2/dist/turndown.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/turndown-plugin-gfm@1.0.2/dist/turndown-plugin-gfm.js"></script>
    <!-- highlight.js ÂÆåÊï¥ÁâàÊîØÊåÅÊõ¥Â§öËØ≠Ë®Ä -->
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/typescript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/go.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/rust.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/swift.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/kotlin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/ruby.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/php.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/sql.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/bash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/yaml.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/json.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/markdown.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/dockerfile.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/scss.min.js"></script>
    <script src="renderer.js"></script>
</body>
</html>
